#!/bin/sh

DOC_NAME=dleyna-lib-doc
OUT_DIR=/tmp
SDK_DIR=${SDK_DIR:-$HOME/android-sdk-linux}
API_LEVEL=${API_LEVEL:=17} # should always use the latest

rm -rf $OUT_DIR/$DOC_NAME
mkdir $OUT_DIR/$DOC_NAME
rm -f $OUT_DIR/$DOC_NAME.tgz

javadoc \
    -d $OUT_DIR/$DOC_NAME \
    -sourcepath src:gen \
    -classpath $SDK_DIR/platforms/android-$API_LEVEL/android.jar \
    -noqualifier java.lang:java.util:android.os:android.app \
    -linkoffline http://developer.android.com/reference $SDK_DIR/docs/reference \
    com.intel.dleyna.lib

cd $OUT_DIR
tar czf $DOC_NAME.tgz $DOC_NAME
